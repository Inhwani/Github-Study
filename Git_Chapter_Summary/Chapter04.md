## 4.1 코드의 변화

_______________________________________________________________________________________

깃이 코드 변화를 기록하는 것을 Commit(커밋)이라고 함.

개발하는 도중 실수나 여러 가지 이유로 변경 전 시점으로 되돌아가야 한다면 어떻게 해야 할까 ?

수정된 모든 코드 작업을 하나씩 되돌리면서 과거 시점가지 수정해야 함.

코드의 변경 과정을 기록하며, 변경 시점을 저장해 두면 잘못된 동작을 발견 시

특정 시점으로 되돌아 갈 수 있음.

이때 필요한 것이 깃의 버전 관리
_______________________________________________________________________________________

## 4.1.1 파일 관리 방법

깃의 커밋은 새로 변경된 부분만 추출하여 저장한다.

시간에 따라 변화되는 내용만 관리하고, 코드가 변화된 시간 순서에 다라 영구적으로 저장 이를 커밋이라고 함.

_______________________________________________________________________________________

## 4.2 새 파일 생성 및 감지
## 4.2.1 새 파일 생성

_______________________________________________________________________________________
```
$ mkdir gitsutdy04

$ cd gitstudy04

$ git init -- 저장소 초기화

$ code index.htm
```
이렇게 코드 입력시 Working Directory에 index.htm 이름으로 저장됨.

모든 작업은 Working Directory에서 진행됨

_______________________________________________________________________________________

## 4.2.2 깃에서 새 파일 생성 확인

Working Directory에 새 파일이 생성 되었음. 

Working Directory에 새 파일이 추가되면 깃은 변화된 상태를 자동으로 감지.

```
$ git status
```

이 명령어로 깃 상태를 확인할 수 있음.

_______________________________________________________________________________________

## 4.3 깃에 새 파일 등록

_______________________________________________________________________________________

커밋을 하려면 파일의 상태가 추적 가능해야 한다.

Untracked 파일을 추적 가능 상태로 변경하는 것을 "등록" 이라고 함.

절차
- 파일을 등록하면 Working Directory의 파일이 Staging Area에 추가됨.
- Staging Area의 관리 목록에 추가된 파일만 깃에서 이력을 추적 가능.

_______________________________________________________________________________________

## 4.3.1 스테이지에 등록

_______________________________________________________________________________________

깃에서 등록이란 Working Directory에 있는 파일을 Staging Area로 복사하는 것을 의미.

Commit을 할 때는 반드시 등록 과정을 거쳐야 함.

Unstage 상태의 파일들을 Commit 할 수 없음.

Staging Area에 등록된 파일들은 Tracked 상태로 자동 변경 됨.

```
$ git add 파일이름
```
add 명령어 실행하면 지정한 파일은 Staging Area에 등록됨.

등록되면 Tracked 상태로 변경됨.

_______________________________________________________________________________________

## 4.3.2 파일의 추적 상태 확인

_______________________________________________________________________________________

Working Directory에 있는 파일이 Add 명령어로 Staging Area에 등록되었다.

```
$ git status
```

이전 상태와 달리 new file 메시지가 출력됨. 

이는 Staging Area에 파일을 정상적으로 등록했다는 의미.

_______________________________________________________________________________________

## 4.3.3 파일 등록 취소

Tracked 상태의 파일을 UnTracked 상태로 변경하는 것.

Unstage 상태로 변경하려면 삭제(rm)나 리셋(reset) 명령어를 사용함.

Staging Area에서만 등록된 파일을 삭제하려고 --cached 옵션을 함께 사용함.

```
$ git rm --cached index.htm
```

Staging Area 캐시 목록에서 파일이 삭제 됨.

```
$ git rm --cached index.htm
```

파일을 등록한 후 커밋하지 않고 바로 삭제할 때.

```
$ git reset HEAD index
```

한번이라도 커밋 했다면 reset 명령어를 사용해야 함.

_______________________________________________________________________________________

## 4.4 첫 번째 커밋.

_______________________________________________________________________________________

Staging Area 영역에 등록된 파일들을 커밋해서 기록하는 과정


_______________________________________________________________________________________

## 4.4.1 HEAD

_______________________________________________________________________________________

깃에는 HEAD라는 포인터 개념이 있다.

- HEAD는 커밋을 가리키는 묵시적 참조 포인터임.
- HEAD는 최종적인 커밋 작업의 위치를 가리킴.
- HEAD는 바로 부모 커밋을 가리킴.

_______________________________________________________________________________________

## 4.4.2 스냅샷

_______________________________________________________________________________________

커밋은 파일 변화를 깃 저장소에 영구적으로 기록함.

깃은 다른 도구와 다르게 스냅샷(SnapShot) 방식을 이용함.

깃은 파일에서 변경된 부분을 찾아 수정된 내용만 저장. 이러한 것이 스냅샷 방식.

스냅샨은 HEAD가 가리키는 커밋을 기반으로 사진을 찍음.

> 이를 이용하여 빠르게 버전의 차이점을 처리하고, 용량을 적게 사용.


_______________________________________________________________________________________
